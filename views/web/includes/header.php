<header class="header">
    <div class="container-header">
        <a href="/" class="header__logo">Jealyng</a>
        <div class="header-categorias">
            <a class="header-categorias__hmb" id="hamburguer" href="#">
                <svg class="header-categorias__ico" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                    <path
                        d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z" />
                </svg>
                <svg class="header-categorias__ico hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                    <path
                        d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z" />
                </svg>
            </a>
            <span class="header-categorias__title">Men√∫ de Categorias</span>

        </div>
        <div class="header-search">
            <input class="header-search__inp" type="text" id="buscador" placeholder="Buscar productos">
            <a class="header-search__ico " id="icoBuscador" ref="#">
                <div class="icosBuscador">
                    <svg data-search="prod" class="header-search__svg hidden" width='20px'
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
                        <path
                            d="M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z" />
                    </svg>
                    <svg class="header-search__svg " data-search="user" width='20px' xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 576 512">
                        <path
                            d="M495.5 223.2C491.6 223.7 487.6 224 483.4 224C457.4 224 434.2 212.6 418.3 195C402.4 212.6 379.2 224 353.1 224C327 224 303.8 212.6 287.9 195C272 212.6 248.9 224 222.7 224C196.7 224 173.5 212.6 157.6 195C141.7 212.6 118.5 224 92.36 224C88.3 224 84.21 223.7 80.24 223.2C24.92 215.8-1.255 150.6 28.33 103.8L85.66 13.13C90.76 4.979 99.87 0 109.6 0H466.4C476.1 0 485.2 4.978 490.3 13.13L547.6 103.8C577.3 150.7 551 215.8 495.5 223.2H495.5zM499.7 254.9C503.1 254.4 508 253.6 512 252.6V448C512 483.3 483.3 512 448 512H128C92.66 512 64 483.3 64 448V252.6C67.87 253.6 71.86 254.4 75.97 254.9L76.09 254.9C81.35 255.6 86.83 256 92.36 256C104.8 256 116.8 254.1 128 250.6V384H448V250.7C459.2 254.1 471.1 256 483.4 256C489 256 494.4 255.6 499.7 254.9L499.7 254.9z" />
                    </svg>
                </div>

                <svg width='20px' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                        d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z" />
                </svg>
            </a>
            <div class="header-search__buscador">
                <div href="/producto?nombre=" class="header-search__tipo" id="contendorBuscador">
                    <div class="header-search__type">
                        <b>ID</b>
                        <b>Nombre</b>
                        <b>Imagen</b>
                        <b>Precio</b>
                    </div>

                </div>
            </div>
            <div class="header-search__buscador">
                <div href="/producto?nombre=" class="header-search__tipo" id="contendorBuscador2">
                    <div class="header-search__type">
                        <b>ID</b>
                        <b>Nombre</b>
                        <b>Imagen</b>
                    </div>
                </div>
            </div>

        </div>
        <div class="header-info">
            <a href="/login" class="header-info__login" id="mode">
                <svg class="header-info__ico" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                        d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z" />
                </svg>
                <svg class="header-info__ico hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                        d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z" />
                </svg>
            </a>
            <?php
            if (isset($_SESSION['id'])) :
                $usuario = selectSqlBYid($_SESSION['id']);
            ?>
            <a class="header-info-perfil " href="#" id="perfil_imagen">
                <?php if (empty($usuario['imagen_user'])) : ?>
                <span><?= $usuario['nick_user'][0] ?></span>
                <?php else : ?>
                <img class="header-info-perfil__img " src="./build/img/usuarios/<?= $usuario['imagen_user'] ?>"
                    alt="<?= $usuario['nombre_user'] ?>">
                <?php endif; ?>
            </a>
            <div class="header-info-user" id="perfilInfo">
                <!-- wallpaper  -->
                <img class="header-info-perfil__wallpaper" src="./build/img/usuarios/<?= $usuario['wallpaper_user'] ?>"
                    alt="">
                <!-- perfil foto  -->
                <?php if (empty($usuario['imagen_user'])) : ?>
                <span class="header-info-user__perfil"><?= $usuario['nick_user'][0] ?></span>
                <?php else : ?>
                <img class=" header-info-perfil__img2" src="./build/img/usuarios/<?= $usuario['imagen_user'] ?>"
                    alt="<?= $usuario['nombre_user'] ?>">
                <?php endif; ?>
                <span class="header-info-user__title">Hola <b><?= $usuario['nick_user'] ?></b></span>
                <div class="header-info-user__section">
                    <?php if (isset($_SESSION['admin'])) : ?>
                    <a class="header-info-user__link" href="/admin">Admin</a>
                    <?php endif; ?>
                    <a class="header-info-user__link" href="/perfil?user=<?= $usuario['nick_user'] ?>">Mi Perfil</a>
                    <!-- <a class="header-info-user__link" href="#">Mis Pedidos</a> -->
                    <a class="header-info-user__link header-info-user__link--logout" href="/salir">Salir</a>
                </div>
                <span class="perfilCerrar">x</span>
            </div>
            <?php else : ?>
            <a href="/login" class="header-info__login">
                <svg class="header-info__ico" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
                    <path
                        d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z" />
                </svg>
                <span class="header-info__title">Login</span>
            </a>
            <?php endif; ?>
            <a href="" id="btn-carrito" class="header-info__cart">
                <svg class="header-info__ico" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                    <path
                        d="M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z" />

                </svg>
                <b id="carritoTotal"></b>
            </a>
            <p class="costoTotalHeader">Total: <span id="costoTotalHeader"></span></p>
        </div>


    </div>

</header>
<nav class="navbar">
    <div class="navbar-container">
        <?php foreach (categoria() as $cat) : ?>
        <ul class="navbar-categorias">
            <li class="navbar-categorias__list"><a href="/categoria?nombre=<?= $cat['nombre_categoria']; ?>"
                    class="navbar-categorias__title"><?= $cat['nombre_categoria']; ?></a>
            </li>
            <?php $subcategoria = subcategoria($cat['id_categoria']); ?>

            <?php foreach ($subcategoria as $sub) : ?>
            <li class="navbar-categorias__list"><a class="navbar-categorias__link"
                    href="/tienda?categoria=<?= $cat['nombre_categoria'] ?>&producto=<?= $sub['nombre_subcat'] ?>"><?= $sub['nombre_subcat'] ?></a>
            </li>
            <?php endforeach; ?>
        </ul>
        <?php endforeach; ?>
    </div>
</nav>
<div class="cart-float" id="carrito">
    <span class="cart-float__title">
        <svg class="ico-form" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path
                d="M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z">
            </path>
        </svg>
        Mi Carrito
        <h4></h4>
    </span>
    <div class="cart-cards">
        <!-- api  -->
    </div>
    <div class="cart-total">
        <span class="cart-total__total">Total: <b class="totalProducto"></b></span>
        <a style="display: flex; justify-content:center; align-items: center; text-decoration:none;" href="
        <?= isset($_SESSION['login']) ? "/perfil?user=$usuario[nick_user]" : '/perfil' ?>">
            <svg style=" fill:var(--color-error); width:20px" xmlns=" http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
                <path
                    d="M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z" />
            </svg><b style="color:var(--color-error)">Mis Favoritos</b></a>
        <a class="cart-total__link cart-total__link--pay" href="/carrito">
            <svg style="fill:#fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                <path
                    d="M512 32C547.3 32 576 60.65 576 96V128H0V96C0 60.65 28.65 32 64 32H512zM576 416C576 451.3 547.3 480 512 480H64C28.65 480 0 451.3 0 416V224H576V416zM112 352C103.2 352 96 359.2 96 368C96 376.8 103.2 384 112 384H176C184.8 384 192 376.8 192 368C192 359.2 184.8 352 176 352H112zM240 384H368C376.8 384 384 376.8 384 368C384 359.2 376.8 352 368 352H240C231.2 352 224 359.2 224 368C224 376.8 231.2 384 240 384z" />
            </svg><b>Pagar</b></a>

        <button id="btnCloseCart">X Cerrar</button>
    </div>
</div>